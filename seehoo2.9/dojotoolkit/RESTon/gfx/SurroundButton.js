define(["dojo/_base/declare","dojox/gfx","./Axis","./Rotate"],function(t,i,r,a){return t(null,{constructor:function(t,i,e,o){this.r=o;this.group=t.createGroup();this.axis=new r(i,e);this.buttons=[];this.rotate=new a(this.group,i,e)},load:function(t){this.buttons=[];var r=0;for(var a in t){var e=t[a];if(e)r++}var o=360/r;for(var a in t){var e=t[a];if(e){var s=o*a;var h=this.axis.forAngle(s,this.r);var n=this.group.createImage({src:e.src,width:e.width,height:e.height}).setStroke({width:0}).setTransform([i.matrix.translate(h.x-e.width/2,h.y-e.height/2),i.matrix.rotategAt(s,e.width/2,e.height/2)]);n.data=e;n.on("click",function(t){t.gfxTarget.data.onClick(t)});this.buttons.push(n)}}var u=this;var c=0;setTimeout(function(){u.rotate.rotateg(c);c+=8;if(c<360)setTimeout(arguments.callee,10)},0)}})});